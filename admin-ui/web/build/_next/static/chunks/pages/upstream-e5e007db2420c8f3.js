(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[83],{6242:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(7462),o=r(3366),a=r(7294),s=r(512),i=r(4780),l=r(948),c=r(1657),u=r(629),d=r(1588),f=r(4867);function getCardUtilityClass(e){return(0,f.Z)("MuiCard",e)}(0,d.Z)("MuiCard",["root"]);var p=r(5893);let h=["className","raised"],useUtilityClasses=e=>{let{classes:t}=e;return(0,i.Z)({root:["root"]},getCardUtilityClass,t)},m=(0,l.ZP)(u.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Z=a.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiCard"}),{className:a,raised:i=!1}=r,l=(0,o.Z)(r,h),u=(0,n.Z)({},r,{raised:i}),d=useUtilityClasses(u);return(0,p.jsx)(m,(0,n.Z)({className:(0,s.Z)(d.root,a),elevation:i?8:void 0,ref:t,ownerState:u},l))});var x=Z},4267:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(7462),o=r(3366),a=r(7294),s=r(512),i=r(4780),l=r(948),c=r(1657),u=r(1588),d=r(4867);function getCardContentUtilityClass(e){return(0,d.Z)("MuiCardContent",e)}(0,u.Z)("MuiCardContent",["root"]);var f=r(5893);let p=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,i.Z)({root:["root"]},getCardContentUtilityClass,t)},h=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),m=a.forwardRef(function(e,t){let r=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:a,component:i="div"}=r,l=(0,o.Z)(r,p),u=(0,n.Z)({},r,{component:i}),d=useUtilityClasses(u);return(0,f.jsx)(h,(0,n.Z)({as:i,className:(0,s.Z)(d.root,a),ownerState:u,ref:t},l))});var Z=m},5048:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/upstream",function(){return r(4154)}])},4154:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Upstream}});var n=r(5893),o=r(7294),a=r(3156),s=r(5861),i=r(5616),l=r(3027),c=r(9042),u=r(6242),d=r(4267);function UpstreamCard(e){let{address:t,healthy:r,num_requests:o,fails:a}=e;return(0,n.jsx)(u.Z,{sx:{minWidth:275},children:(0,n.jsxs)(d.Z,{children:[(0,n.jsxs)(s.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:["Healthy: ",r?"\uD83D\uDC4D":"\uD83D\uDC4E"]}),(0,n.jsxs)(s.Z,{variant:"h5",component:"div",children:["Address: ",t]}),(0,n.jsxs)(s.Z,{variant:"body2",children:["Requests: ".concat(o),(0,n.jsx)("br",{}),"Fails: ".concat(a)]})]})})}function Upstream(){let[e,t]=o.useState([]);return o.useEffect(()=>{let runU=async()=>{let e=await fetch("/reverse_proxy/upstreams"),r=await e.json();t(r)};runU()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l.Z,{}),(0,n.jsx)(a.Z,{maxWidth:"lg",children:(0,n.jsxs)(i.Z,{sx:{my:4},children:[(0,n.jsx)(s.Z,{variant:"h4",component:"h1",gutterBottom:!0,children:"Caddy Server Upstream"}),(0,n.jsx)(s.Z,{variant:"p",component:"p",gutterBottom:!0,children:e.map(e=>(0,n.jsx)(UpstreamCard,{...e}))}),(0,n.jsx)(c.Z,{})]})})]})}},3027:function(e,t,r){"use strict";r.d(t,{Z:function(){return src_AppBar}});var n=r(2729),o=r(6811),a=r(917),s=r(7294),i=r(2293),l=r(5616),c=r(155),u=r(3946),d=r(5861),f=r(517),p=r(326),h=r(3156),m=r(9417),Z=r(5819),x=r(3960),C=r(5893),y=r(5697),g=r.n(y),v=r(512),j=r(1163),b=r(1664),w=r.n(b),_=r(3795),N=r(948);let k=(0,N.ZP)("a")({}),O=s.forwardRef(function(e,t){let{to:r,linkAs:n,replace:o,scroll:a,shallow:s,prefetch:i,locale:l,...c}=e;return(0,C.jsx)(w(),{href:r,prefetch:i,as:n,replace:o,scroll:a,shallow:s,passHref:!0,locale:l,children:(0,C.jsx)(k,{ref:t,...c})})});O.propTypes={href:g().any,linkAs:g().oneOfType([g().object,g().string]),locale:g().string,passHref:g().bool,prefetch:g().bool,replace:g().bool,scroll:g().bool,shallow:g().bool,to:g().oneOfType([g().object,g().string]).isRequired};let U=s.forwardRef(function(e,t){let{activeClassName:r="active",as:n,className:o,href:a,linkAs:s,locale:i,noLinkStyle:l,prefetch:c,replace:u,role:d,scroll:f,shallow:p,...h}=e,m=(0,j.useRouter)(),Z="string"==typeof a?a:a.pathname,x=(0,v.Z)(o,{[r]:m.pathname===Z&&r}),y="string"==typeof a&&(0===a.indexOf("http")||0===a.indexOf("mailto:"));if(y)return l?(0,C.jsx)(k,{className:x,href:a,ref:t,...h}):(0,C.jsx)(_.Z,{className:x,href:a,ref:t,...h});let g={to:a,linkAs:s||n,replace:u,scroll:f,shallow:p,prefetch:c,locale:i};return l?(0,C.jsx)(O,{className:x,ref:t,...g,...h}):(0,C.jsx)(_.Z,{component:O,className:x,ref:t,...g,...h})});function _templateObject(){let e=(0,n._)(["\n                      color: white;\n                    "]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,n._)(["\n                    color: white;\n                  "]);return _templateObject1=function(){return e},e}U.propTypes={activeClassName:g().string,as:g().oneOfType([g().object,g().string]),className:g().string,href:g().any,linkAs:g().oneOfType([g().object,g().string]),locale:g().string,noLinkStyle:g().bool,prefetch:g().bool,replace:g().bool,role:g().string,scroll:g().bool,shallow:g().bool};let M=[{name:"Upstream",href:"/upstream"},{name:"PKI",href:"/pki-view"},{name:"Load",href:"/setup"},{name:"Adapt",href:"/convert-config"},{name:"Metrics",href:"/monitor"}];var src_AppBar=()=>{let[e,t]=s.useState(null),handleCloseNavMenu=()=>{t(null)};return(0,o.tZ)(i.Z,{position:"static",children:(0,o.tZ)(h.Z,{maxWidth:"lg",children:(0,o.BX)(c.Z,{disableGutters:!0,children:[(0,o.tZ)(x.Z,{sx:{display:{xs:"none",md:"flex"},mr:1}}),(0,o.tZ)(d.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Caddy Config"}),(0,o.BX)(l.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,o.tZ)(u.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{t(e.currentTarget)},color:"inherit",children:(0,o.tZ)(p.Z,{})}),(0,o.tZ)(f.Z,{id:"menu-appbar",anchorEl:e,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!e,onClose:handleCloseNavMenu,sx:{display:{xs:"block",md:"none"}},children:M.map(e=>(0,o.tZ)(Z.Z,{onClick:handleCloseNavMenu,children:(0,o.tZ)(U,{href:e.href,css:(0,a.iv)(_templateObject()),children:(0,o.tZ)(d.Z,{textAlign:"center",children:e.name})})},e.name))})]}),(0,o.tZ)(x.Z,{sx:{display:{xs:"flex",md:"none"},mr:1}}),(0,o.tZ)(d.Z,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Caddy Config"}),(0,o.tZ)(l.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:M.map(e=>(0,o.tZ)(m.Z,{onClick:handleCloseNavMenu,sx:{my:2,color:"white",display:"block"},children:(0,o.tZ)(U,{href:e.href,css:(0,a.iv)(_templateObject1()),children:e.name})},e.name))})]})})})}},9042:function(e,t,r){"use strict";r.d(t,{Z:function(){return Copyright}});var n=r(5893);r(7294);var o=r(5861),a=r(3795);function Copyright(){return(0,n.jsxs)(o.Z,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",(0,n.jsx)(a.Z,{color:"inherit",href:"https://github.com/gsmlg-dev/",children:"GSMLG-DEV"})," ",new Date().getFullYear(),"."]})}}},function(e){e.O(0,[937,774,888,179],function(){return e(e.s=5048)}),_N_E=e.O()}]);