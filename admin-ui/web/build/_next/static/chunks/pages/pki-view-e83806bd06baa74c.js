(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[971],{6242:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(7462),o=n(3366),a=n(7294),i=n(512),s=n(4780),l=n(948),c=n(1657),d=n(629),p=n(1588),u=n(4867);function getCardUtilityClass(e){return(0,u.Z)("MuiCard",e)}(0,p.Z)("MuiCard",["root"]);var f=n(5893);let h=["className","raised"],useUtilityClasses=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},getCardUtilityClass,t)},m=(0,l.ZP)(d.Z,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),Z=a.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiCard"}),{className:a,raised:s=!1}=n,l=(0,o.Z)(n,h),d=(0,r.Z)({},n,{raised:s}),p=useUtilityClasses(d);return(0,f.jsx)(m,(0,r.Z)({className:(0,i.Z)(p.root,a),elevation:s?8:void 0,ref:t,ownerState:d},l))});var x=Z},4267:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(7462),o=n(3366),a=n(7294),i=n(512),s=n(4780),l=n(948),c=n(1657),d=n(1588),p=n(4867);function getCardContentUtilityClass(e){return(0,p.Z)("MuiCardContent",e)}(0,d.Z)("MuiCardContent",["root"]);var u=n(5893);let f=["className","component"],useUtilityClasses=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"]},getCardContentUtilityClass,t)},h=(0,l.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),m=a.forwardRef(function(e,t){let n=(0,c.Z)({props:e,name:"MuiCardContent"}),{className:a,component:s="div"}=n,l=(0,o.Z)(n,f),d=(0,r.Z)({},n,{component:s}),p=useUtilityClasses(d);return(0,u.jsx)(h,(0,r.Z)({as:s,className:(0,i.Z)(p.root,a),ownerState:d,ref:t},l))});var Z=m},7296:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pki-view",function(){return n(8731)}])},8731:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Pki}});var r=n(5893),o=n(7294),a=n(3156),i=n(5861),s=n(5616),l=n(3027),c=n(9042),d=n(6242),p=n(3366),u=n(7462),f=n(512),h=n(4780),m=n(948),Z=n(1657),x=n(1588),C=n(4867);function getCardActionsUtilityClass(e){return(0,C.Z)("MuiCardActions",e)}(0,x.Z)("MuiCardActions",["root","spacing"]);let g=["disableSpacing","className"],useUtilityClasses=e=>{let{classes:t,disableSpacing:n}=e;return(0,h.Z)({root:["root",!n&&"spacing"]},getCardActionsUtilityClass,t)},y=(0,m.ZP)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(({ownerState:e})=>(0,u.Z)({display:"flex",alignItems:"center",padding:8},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),v=o.forwardRef(function(e,t){let n=(0,Z.Z)({props:e,name:"MuiCardActions"}),{disableSpacing:o=!1,className:a}=n,i=(0,p.Z)(n,g),s=(0,u.Z)({},n,{disableSpacing:o}),l=useUtilityClasses(s);return(0,r.jsx)(y,(0,u.Z)({className:(0,f.Z)(l.root,a),ownerState:s,ref:t},i))});var b=n(4267),j=n(9417),w=n(9205);function PKICard(e){let{id:t,name:n,root_common_name:a,intermediate_common_name:l,root_certificate:c,intermediate_certificate:p}=e,[u,f]=o.useState(!1),handleOpen=e=>()=>f(e);return(0,r.jsxs)(d.Z,{sx:{minWidth:275},children:[(0,r.jsxs)(b.Z,{children:[(0,r.jsxs)(i.Z,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:["ID: ",t]}),(0,r.jsxs)(i.Z,{variant:"h5",component:"div",children:["Name: ",n]}),(0,r.jsxs)(i.Z,{variant:"body2",children:["Root CommonName:",(0,r.jsx)("br",{}),a]}),(0,r.jsxs)(i.Z,{variant:"body2",children:["Intermediate CommonName:",(0,r.jsx)("br",{}),l]})]}),(0,r.jsxs)(v,{children:[(0,r.jsx)(j.Z,{size:"small",onClick:handleOpen("root"),children:"Show Root"}),(0,r.jsx)(j.Z,{size:"small",onClick:handleOpen("intermediate"),children:"Show Intermediate"})]}),(0,r.jsx)(w.Z,{open:!1!==u,onClose:()=>f(!1),"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,r.jsxs)(s.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:720,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},children:[(0,r.jsx)(i.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:u}),(0,r.jsx)(i.Z,{id:"modal-modal-description",sx:{mt:2},component:"pre",children:"root"===u?c:p})]})})]})}function Pki(){let[e,t]=o.useState([]);return o.useEffect(()=>{let run=async()=>{let e=await fetch("/config/apps/pki/certificate_authorities"),n=await e.json(),r=Object.keys(n),o=[];for(let e=0;e<r.length;e+=1){let t=r[e],n=await fetch("/pki/ca/".concat(t)),a=await n.json();o.push(a)}t(o)};run()},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(a.Z,{maxWidth:"lg",children:(0,r.jsxs)(s.Z,{sx:{my:4},children:[(0,r.jsx)(i.Z,{variant:"h4",component:"h1",gutterBottom:!0,children:"Caddy Server PKI"}),(0,r.jsx)(i.Z,{variant:"p",component:"p",gutterBottom:!0,children:e.map((e,t)=>(0,r.jsx)(PKICard,{...e},"n-".concat(t)))}),(0,r.jsx)(c.Z,{})]})})]})}},3027:function(e,t,n){"use strict";n.d(t,{Z:function(){return src_AppBar}});var r=n(2729),o=n(6811),a=n(917),i=n(7294),s=n(2293),l=n(5616),c=n(155),d=n(3946),p=n(5861),u=n(517),f=n(326),h=n(3156),m=n(9417),Z=n(5819),x=n(3960),C=n(5893),g=n(5697),y=n.n(g),v=n(512),b=n(1163),j=n(1664),w=n.n(j),k=n(3795),N=n(948);let _=(0,N.ZP)("a")({}),O=i.forwardRef(function(e,t){let{to:n,linkAs:r,replace:o,scroll:a,shallow:i,prefetch:s,locale:l,...c}=e;return(0,C.jsx)(w(),{href:n,prefetch:s,as:r,replace:o,scroll:a,shallow:i,passHref:!0,locale:l,children:(0,C.jsx)(_,{ref:t,...c})})});O.propTypes={href:y().any,linkAs:y().oneOfType([y().object,y().string]),locale:y().string,passHref:y().bool,prefetch:y().bool,replace:y().bool,scroll:y().bool,shallow:y().bool,to:y().oneOfType([y().object,y().string]).isRequired};let M=i.forwardRef(function(e,t){let{activeClassName:n="active",as:r,className:o,href:a,linkAs:i,locale:s,noLinkStyle:l,prefetch:c,replace:d,role:p,scroll:u,shallow:f,...h}=e,m=(0,b.useRouter)(),Z="string"==typeof a?a:a.pathname,x=(0,v.Z)(o,{[n]:m.pathname===Z&&n}),g="string"==typeof a&&(0===a.indexOf("http")||0===a.indexOf("mailto:"));if(g)return l?(0,C.jsx)(_,{className:x,href:a,ref:t,...h}):(0,C.jsx)(k.Z,{className:x,href:a,ref:t,...h});let y={to:a,linkAs:i||r,replace:d,scroll:u,shallow:f,prefetch:c,locale:s};return l?(0,C.jsx)(O,{className:x,ref:t,...y,...h}):(0,C.jsx)(k.Z,{component:O,className:x,ref:t,...y,...h})});function _templateObject(){let e=(0,r._)(["\n                      color: white;\n                    "]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,r._)(["\n                    color: white;\n                  "]);return _templateObject1=function(){return e},e}M.propTypes={activeClassName:y().string,as:y().oneOfType([y().object,y().string]),className:y().string,href:y().any,linkAs:y().oneOfType([y().object,y().string]),locale:y().string,noLinkStyle:y().bool,prefetch:y().bool,replace:y().bool,role:y().string,scroll:y().bool,shallow:y().bool};let S=[{name:"Upstream",href:"/upstream"},{name:"PKI",href:"/pki-view"},{name:"Load",href:"/setup"},{name:"Adapt",href:"/convert-config"},{name:"Metrics",href:"/monitor"}];var src_AppBar=()=>{let[e,t]=i.useState(null),handleCloseNavMenu=()=>{t(null)};return(0,o.tZ)(s.Z,{position:"static",children:(0,o.tZ)(h.Z,{maxWidth:"lg",children:(0,o.BX)(c.Z,{disableGutters:!0,children:[(0,o.tZ)(x.Z,{sx:{display:{xs:"none",md:"flex"},mr:1}}),(0,o.tZ)(p.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Caddy Config"}),(0,o.BX)(l.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,o.tZ)(d.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{t(e.currentTarget)},color:"inherit",children:(0,o.tZ)(f.Z,{})}),(0,o.tZ)(u.Z,{id:"menu-appbar",anchorEl:e,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!e,onClose:handleCloseNavMenu,sx:{display:{xs:"block",md:"none"}},children:S.map(e=>(0,o.tZ)(Z.Z,{onClick:handleCloseNavMenu,children:(0,o.tZ)(M,{href:e.href,css:(0,a.iv)(_templateObject()),children:(0,o.tZ)(p.Z,{textAlign:"center",children:e.name})})},e.name))})]}),(0,o.tZ)(x.Z,{sx:{display:{xs:"flex",md:"none"},mr:1}}),(0,o.tZ)(p.Z,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Caddy Config"}),(0,o.tZ)(l.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:S.map(e=>(0,o.tZ)(m.Z,{onClick:handleCloseNavMenu,sx:{my:2,color:"white",display:"block"},children:(0,o.tZ)(M,{href:e.href,css:(0,a.iv)(_templateObject1()),children:e.name})},e.name))})]})})})}},9042:function(e,t,n){"use strict";n.d(t,{Z:function(){return Copyright}});var r=n(5893);n(7294);var o=n(5861),a=n(3795);function Copyright(){return(0,r.jsxs)(o.Z,{variant:"body2",color:"text.secondary",align:"center",children:["Copyright \xa9 ",(0,r.jsx)(a.Z,{color:"inherit",href:"https://github.com/gsmlg-dev/",children:"GSMLG-DEV"})," ",new Date().getFullYear(),"."]})}}},function(e){e.O(0,[937,774,888,179],function(){return e(e.s=7296)}),_N_E=e.O()}]);